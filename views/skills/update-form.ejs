<%- include("../partials/header") %>
<!-- Font awesome -->
<script src="https://kit.fontawesome.com/a8d80231ea.js" crossorigin="anonymous"></script>

<!-- Link back -->
<a href="/skills">Back to skills</a>
<h1 class="mt-2">Edit</h1>
<!-- Single skill update form -->
<form method="POST" action="/skills/<%=vars.skill._id%>?_method=PUT" class="container">
    <div class="form-group mb-2">
        <label for="skill-name">Skill Name</label>
        <input name="name" id="skill-name" class="form-control" type="text" value="<%= vars.skill.name %>" />
    </div>

    <div class="form-group mb-2">
        <label for="skill-icon">Icon</label>
        <input name="icon" id="skill-icon" class="form-control" type="text" value="<%=vars.skill.icon %>" />
        <i id="skill-icon-display" class="<%=vars.skill.icon %>"></i>
        <small class="form-text text-muted">classes for Font Awesome 6 (non-pro basic and brand only).</small>
    </div>

    <div class="form-check mb-2">
        <label for="skill-learned">Learned</label>
        <input class="m-2" name="learned" id="skill-learned" type="checkbox" <%= vars.skill.learned ? "checked" : "" %> />

    </div>

    <div>
        <input type="submit" class="btn btn-primary" value="Submit"/>
    </div>

</form>

<script>
    window.onload = function(evt) {
        // Update the icon dynamically as user types
        const skillIconEl = document.getElementById("skill-icon");
        const skillIconDisplayEl = document.getElementById("skill-icon-display");

        skillIconEl.addEventListener("input", evt => {
            skillIconDisplayEl.className = skillIconEl.value;
        });
    };

</script>

<%- include("../partials/footer") %>